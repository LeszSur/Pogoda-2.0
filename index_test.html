<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8" />
  <title>Pogodynka</title>
</head>

<body>
        <section>
        <p>Wybierz miasto:</p>
        <input id="szukaj"></input>
        <button id="przycisk">Szukaj miast</button>
      </section>
      <section>
        <div></div>
        <div id="lon">Longitude:</div>
        <div id="lat">Latitude:</div>
      </section>

      <script>
        let szukaneMiasto = document.querySelector("#szukaj");
        let przycisk = document.querySelector("#przycisk");
        let lonPage = document.querySelector("#lon");
        let latPage = document.querySelector("#lat");
        let lon;
        let lat;

        document.querySelector("#przycisk").addEventListener("click", () => {
            let miasto = document.querySelector("#szukaj").value;
            let adresPar = "https://api.geoapify.com/v1/geocode/search?text="+miasto+"&apiKey=5c1152da60b54e39b1f6e5dac9596307";
            fetch(adresPar)
            .then(res => res.json())
            .then(res => { 
                lon = parseFloat(res.features[0].geometry.coordinates[0]);
                lat = parseFloat(res.features[0].geometry.coordinates[1]);
                let adresWeather = "http://api.openweathermap.org/data/2.5/forecast?lat="+lat+"&lon="+lon+
                  "&lang=PL&units=metric&appid=992ff55e7b3c5989a38e4ff2e9ff1413";
                  fetch(adresWeather)
                  .then(res => res.json())
                  .then(res => { 
                    console.log(res);
                  });
            });
            


            
        
        });
        

      </script>
</body>

</html>